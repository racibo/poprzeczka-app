# === SÅ‚ownik TÅ‚umaczeÅ„ (PL/EN) ===
translations = {
    'pl': {
        'app_title': "Analiza i ZarzÄ…dzanie PoprzeczkÄ…",
        
        # --- MENU HEADER ---
        'nav_header': "ðŸ“‹ Menu",
        'nav_editions_expander': "ðŸ“‹ Edycje i Rankingi",
        'nav_static_header': "ðŸ“š Informacje",
        
        # --- MENU EDYCJI (Dynamiczne) ---
        'nav_edition_upcoming': "â³ {0}",
        'nav_edition_active': "ðŸŸ¢ {0}",
        'nav_edition_finalization': "ðŸš© {0}",
        'nav_edition_finished': "ðŸ {0}",
        
        'nav_edition_ranking_active': "ðŸ“Š Ranking {0}",
        'nav_edition_form_active': "ðŸ“ Formularz {0}",
        'nav_edition_ranking_finished': "ðŸ Ranking {0}",
        'nav_edition_form_finished': "ðŸ”’ Formularz {0}",
        'nav_edition_ranking_upcoming': "â³ {0}",
        
        # --- MENU STATYCZNE ---
        'nav_historical_stats': "ðŸ“ˆ Statystyki Historyczne",
        'nav_rules': "ðŸ“œ Zasady",
        'nav_join': "â„¹ï¸ Jak doÅ‚Ä…czyÄ‡",
        'about_app': "ðŸ¤– O projekcie",
        
        # --- CTA (ZachÄ™ta do wprowadzania danych) ---
        'cta_header': "ðŸ¤ PomÃ³Å¼ uzupeÅ‚niÄ‡ dane!",
        'cta_description': "Widzisz braki w rankingu? MoÅ¼esz samodzielnie dodaÄ‡ wyniki swoje lub innych uczestnikÃ³w. To proste!",
        'cta_button_pl': "ðŸ“ WypeÅ‚nij Formularz (PL)",
        'cta_button_en': "ðŸ“ Fill Form (EN)",

        # --- QUICK LINKS ---
        'quick_links_header': "Szybkie Linki Startowe",
        'quick_links_ranking': "Ranking",
        'quick_links_form': "Formularz",
        'quick_links_language_pl': "(PL)",
        'quick_links_language_en': "(EN)",
        
        # --- RESZTA TÅUMACZEÅƒ ---
        'edition_starts_soon': "Ta edycja ({0}) jeszcze siÄ™ nie rozpoczÄ™Å‚a. Zapraszamy wkrÃ³tce!",
        'form_error_edition_closed': "Ta edycja ({0}) jest juÅ¼ zakoÅ„czona. Formularz jest zablokowany.",
        
        'about_app_text': "Nie byÅ‚oby POPRZECZKI bez hive.blog. Tam wokÃ³Å‚ ludzi publikujÄ…cych swoje raporty na actifit wykieÅ‚kowaÅ‚y nowe rywalizacje. POPRZECZKA powstaÅ‚a dziÄ™ki lidze 'poliac' organizowanej przez @browery. POPRZECZKA to inne spojrzenie na liczbÄ™ krokÃ³w i publikowane codziennie raporty. MoÅ¼na je uÅ‚oÅ¼yÄ‡ w klasyfikacjÄ™ i tak siÄ™ wÅ‚aÅ›nie staÅ‚o. Kolejne miesiÄ…ce mijajÄ… a POPRZECZKA nadal trwa",
        
        'sidebar_rules_header': "Zasady Klasyfikacji",
        'sidebar_rules_text': """
        **Zasady ogÃ³lne:**
        1. **Cel:** UtrzymaÄ‡ siÄ™ w grze jak najdÅ‚uÅ¼ej, zaliczajÄ…c kolejne etapy (dni).
        2. **Wymagania:** KaÅ¼dy etap ma okreÅ›lonÄ… minimalnÄ… liczbÄ™ krokÃ³w (np. DzieÅ„ 1 = 1000, DzieÅ„ 30 = 30000).
        3. **Zaliczenie:** Wymagany raport Actifit lub dowÃ³d ze Stravy/Garmina (zdjÄ™cie/link).
        4. **Eliminacja:** 3 niezaliczone etapy z rzÄ™du oznaczajÄ… koniec gry (tzw. "pa").
        5. **Ranking:** Decyduje najwyÅ¼szy zaliczony etap. W przypadku remisu decyduje historia wpadek.

        ---
        **ðŸ’° Zasady Nagradzania (Beneficjenci):**
        
        1. **Tworzymy PulÄ™:** Pula nagrÃ³d z posta jest rÃ³wna **procentowi Waszego wkÅ‚adu** w uzupeÅ‚nianie danych (np. 40% wpisÃ³w spoÅ‚ecznoÅ›ci = 40% nagrody dla Was).
        2. **Dzielimy PulÄ™:**
            * **80%** tej puli trafia do **PomocnikÃ³w** (proporcjonalnie do liczby dodanych wpisÃ³w).
            * **20%** tej puli trafia do **LiderÃ³w** (rÃ³wno dla Top 5 obecnej klasyfikacji).
        3. **Sumujemy:** JeÅ›li jesteÅ› Liderem i Pomocnikiem jednoczeÅ›nie â€“ Twoje nagrody siÄ™ sumujÄ…!
        4. **Limity:** NagrodÄ™ (beneficjum) otrzymuje **maksymalnie 7 osÃ³b** z najwyÅ¼szym Å‚Ä…cznym wynikiem (minimum 1%).
        """,
        
        'join_intro': "Aby doÅ‚Ä…czyÄ‡, zacznij publikowaÄ‡ raporty Actifit na Hive.blog i zgÅ‚oÅ› swÃ³j udziaÅ‚ w komentarzu pod ktÃ³rymÅ› z postÃ³w @poprzeczka.",
        'join_step_1': "ZaÅ‚Ã³Å¼ konto na Hive.blog.",
        'join_step_2': "Pobierz aplikacjÄ™ Actifit.",
        'join_step_3': "Publikuj codziennie swoje wyniki.",
        'join_step_4': "UÅ¼ywaj tagu #poprzeczka.",
        
        # --- RANKING ---
        'current_header': "ðŸ“Š Ranking Edycji",
        'current_no_data': "Brak danych.",
        'current_ranking_header': "Aktualna Klasyfikacja",
        'current_official_ranking_header': "Oficjalna Klasyfikacja",
        'current_official_stage_selector': "Wybierz etap:",
        'current_official_ranking_desc': "PoniÅ¼sza klasyfikacja jest oparta o **Etap {0}**. Jest to ostatni (lub wybrany) dzieÅ„, dla ktÃ³rego wszyscy aktywni uczestnicy posiadajÄ… kompletne dane (jawne lub wywnioskowane).",
        'current_official_ranking_none': "Brak kompletnych etapÃ³w.",
        'current_ranking_error': "BÅ‚Ä…d: {0}",
        'ranking_col_rank': "Miejsce",
        'ranking_col_participant': "Uczestnik",
        'ranking_col_highest_pass': "Najw. Zaliczone",
        'ranking_col_status': "Status",
        'ranking_col_failed_list_live': "Niezaliczone (nieoficjalnie)",
        'ranking_col_failed_list_official': "Niezaliczone",
        'ranking_status_active': "W grze",
        'ranking_status_eliminated': "OdpadÅ‚ (DzieÅ„ {0})",
        'ranking_selection_instruction': "â„¹ï¸ **O tej klasyfikacji:** Bierze ona pod uwagÄ™ wszystkie dostÄ™pne dane (z rÃ³Å¼nych okresÃ³w). U jednych uczestnikÃ³w mogÄ… byÄ‡ braki, u innych dane sÄ… bieÅ¼Ä…ce. DziÄ™ki temu ranking reaguje natychmiast po wprowadzeniu nowych danych do formularza.",
        'current_ranking_rules_expander_label': "Zasady klasyfikacji",
        'current_ranking_rules': "Ranking do etapu {0}. Sortowanie po najwyÅ¼szym zaliczonym etapie.",
        
        # --- KOMPLETNOÅšÄ† ---
        'current_completeness_header': "KompletnoÅ›Ä‡ Danych",
        'current_completeness_no_data': "Brak danych.",
        'completeness_col_day': "DzieÅ„",
        'completeness_col_participant': "Uczestnik",
        
        # --- STATYSTYKI ---
        'current_stats_header': "ðŸ† Statystyki",
        'current_stats_streaks': "Serie ZaliczeÅ„",
        'current_stats_streaks_desc': "NajdÅ‚uÅ¼sze serie.",
        'current_stats_streaks_days': "dni",
        'stats_rabbits_title': "ðŸ° NajwiÄ™kszy spryciarze",
        'stats_rabbits_desc': "SÄ… to uczestnicy, ktÃ³rzy mieli lub majÄ… w tej edycji najwiÄ™cej niezaliczonych etapÃ³w.",
        
        # --- RACE CHART ---
        'current_stats_race_header': "ðŸƒ WyÅ›cig o NajwyÅ¼szy Etap",
        'current_stats_race_desc': """
        Wykres dynamiczny (Race Chart) pokazuje, **kto prowadziÅ‚ w danym momencie rywalizacji**.
        DÅ‚ugoÅ›Ä‡ sÅ‚upka oznacza numer najwyÅ¼szego zaliczonego etapu przez uczestnika na koniec wybranego dnia.
        MoÅ¼esz odtworzyÄ‡ przebieg rywalizacji jako animacjÄ™ lub przewijaÄ‡ etapy rÄ™cznie przyciskami, aby zobaczyÄ‡ zmiany lidera.
        """,
        'current_stats_race_mode': "Tryb",
        'current_stats_race_mode_anim': "Animacja",
        'current_stats_race_mode_manual': "RÄ™czny",
        'current_stats_race_button': "â–¶ï¸ OdtwÃ³rz AnimacjÄ™",
        'current_stats_race_day': "Etap",
        'current_stats_race_total': "Najw. Etap",
        'race_btn_prev': "â—€ Poprzedni",
        'race_btn_next': "â–¶ NastÄ™pny",
        'race_input_label': "Wybierz Etap",
        
        # --- HISTORIA ---
        'current_ranking_historical_expander': "Kontekst Historyczny",
        'current_ranking_historical_no_data': "Brak historii.",
        'hist_context_pb': "R. Å»yciowy",
        'hist_context_avg': "Åšr. OgÃ³Å‚",
        'hist_context_avg_last_3': "Åšr. Ost.3",
        'hist_context_best_pos': "Najl. Poz.",
        'hist_context_medals': "Medale",
        'hist_context_editions': "Edycje",
        'summary_current_rank': "Teraz",
        'summary_previous_rank': "Poprz.",
        'summary_medals': "Medale",
        'summary_wins': "Wygrane",
        'summary_last_5_days': "Ost. 5 dni",
        'summary_no_hist_data': "-",
        'card_hist_stats_header': "Statystyki:",
        'card_avg_total': "Åšr. wynik",
        'card_avg_l3': "Åšr. ost. 3",
        'card_avg_pos': "Åšr. miejsce",
        
        # --- ANALIZA ETAPÃ“W ---
        'stage_analysis_title': "ðŸ“Š TrudnoÅ›Ä‡ EtapÃ³w",
        'stage_analysis_y_axis': "% Niezaliczonych",
        'stage_analysis_hardest': "ðŸ“¥ Najtrudniejszy: **DzieÅ„ {0}** (Nie zaliczyÅ‚o {1:.1f}%)",
        
        # --- PRZETRWANIE ---
        'survival_chart_header': "ðŸ“‰ Analiza Przetrwania",
        'survival_chart_title': "% w grze",
        'survival_y_axis': "%",
        'survival_current_legend': "Obecna",
        
        # --- PODSUMOWANIA TYGODNIOWE ---
        'weekly_summary_title': "ðŸ“… Podsumowanie Tygodnia nr {0} (Etap {1})",
        'weekly_intro': "Podsumowanie po tygodniu nr {0}.",
        'weekly_leader_sg': "Prowadzi: {0}",
        'weekly_leader_pl': "ProwadzÄ…: {0}",
        'weekly_chasers': "za nimi sÄ… {0}.",
        'weekly_winners': "ZwyciÄ™zcy poprzednich edycji na miejscach: {0}.",
        'weekly_participants': "StartowaÅ‚o {0} - po {1} dniach mamy ich juÅ¼ tylko {2}.",
        'weekly_comparison': "W porÃ³wnaniu do historii {0}.",
        'weekly_footer_new': "WiÄ™cej na [poprzeczka.streamlit.app](https://poprzeczka.streamlit.app). Wasza pomoc: {0}%. Beneficjenci:",
        
        # --- FORMULARZ ---
        'form_header': "Formularz wprowadzania danych: {0}",
        'form_info': "Wprowadzasz dane dla edycji: **{0}**.",
        'form_submitter_label': "Kto wprowadza dane?",
        'form_submitter_placeholder': "Wybierz...",
        'form_participant_label': "Uczestnik",
        'form_participant_placeholder': "Wybierz...",
        'form_day_label': "Etap (numer dnia)",
        'form_status_label': "Status etapu",
        'form_status_pass': "Zaliczone",
        'form_status_fail': "Niezaliczone",
        'form_status_no_report': "Brak raportu",
        'form_submit_button': "Zapisz dane",
        'form_success_message': "Zapisano: **{0}** - DzieÅ„ {1} - Status: **{2}**",
        'form_error_no_participant': "Wybierz uczestnika i wprowadzajÄ…cego.",
        'form_confirmation_header': "Potwierdzenie zapisu",
        'form_confirmation_participant': "Uczestnik",
        'form_confirmation_day': "DzieÅ„",
        'form_confirmation_status': "Status",
        'form_confirmation_notes': "Notatki",
        'form_confirmation_notes_empty': "Brak",
        'form_overwrite_info': "Nowy wpis nadpisuje stary.",
        'form_data_exists': "â„¹ï¸ Dane juÅ¼ istniejÄ… (autor: {0}).",
        'form_error_edition_upcoming': "Formularz dla tej edycji nie jest jeszcze dostÄ™pny.",
        
        # --- FORMULARZ (DODATKOWE) ---
        'form_converters_expander': "â„¹ï¸ Przeliczniki (Strava/Rower/Inne)",
        'form_converters_warning': "JeÅ›li zgÅ‚aszasz kroki z aktywnoÅ›ci (np. Strava, Garmin), stosujemy poniÅ¼sze przeliczniki. Zamiast raportu Actifit, moÅ¼esz wgraÄ‡ zrzut ekranu.",
        'form_notes_label': "Inne (opcjonalnie)",
        'form_notes_placeholder': "Np. 'Dane ze Strava', 'Link do zrzutu ekranu'...",
        'form_upload_link_text': "ðŸ“‚ Folder ze zrzutami",
        'form_thanks_note': "DziÄ™kujemy za pomoc!",
        'form_ranking_info': "SprawdÅº ranking w menu bocznym.",
        'form_error_message': "BÅ‚Ä…d zapisu: {0}",
        'form_converters_error': "BÅ‚Ä…d konwertera",
        
        # --- STATYSTYKI (POMOCNICY) ---
        'current_stats_top_submitters': "ðŸ… NajwiÄ™ksi Pomocnicy",
        'current_stats_top_submitters_desc': "Kto pomagaÅ‚ w uzupeÅ‚nianiu danych.",
        'current_stats_top_submitters_none': "Brak wpisÃ³w.",
        'current_stats_top_submitters_percentage': "Pomoc: **{0:.0f}%** ({1} wpisÃ³w). Admin: {2}.",
        
        # --- TABELA POMOCNIKÃ“W (NAGRODY) ---
        'helpers_info_text': "Zasady wyliczania nagrÃ³d znajdziesz w zakÅ‚adce 'Zasady' w menu po lewej stronie. Co tydzieÅ„ nastÄ™puje zmiana. PoniÅ¼sza tabela pokazuje stan obecny:",
        'helpers_col_participant': "Uczestnik",
        'helpers_col_reward': "Nagroda",
        'helpers_col_details': "SzczegÃ³Å‚y wyliczenia",
        'helpers_details_format': "pomoc {0:.1f}%, lider {1:.1f}%, razem zaokrÄ…glone {2}%",
        'helpers_footer_pool_full': "Aktualna Pula SpoÅ‚ecznoÅ›ci: {0}% (Wpisy: {1} vs Admin: {2}) - liczone na podstawie ostatnich {3} wpisÃ³w.",
        'helpers_no_data': "Brak danych do wyliczenia nagrÃ³d.",
        
        # --- GENERATOR (DRAFT) ---
        'draft_header': "ðŸ“ Generator Wpisu (Dla {0})",
        'draft_select_label': "Wybierz uczestnika:",
        'draft_copy_label': "Skopiuj tekst:",
        'draft_loading': "Generowanie...",
        'draft_no_data': "Brak danych rankingowych.",
        'draft_error': "BÅ‚Ä…d: {0}",
        'draft_intro': "1. Podsumowanie dla {0}",
        'draft_main_text': "Wg oficjalnej klasyfikacji po etapie {0}, {1} zajmuje {2} miejsce. Przed: {3}, za: {4}. Ostatnie dane (etap {6}): {7}",
        'draft_status_pass': "Zaliczony.",
        'draft_status_fail': "Niezaliczony.",
        'draft_analysis_active': "{0} {1}. Ostatnio wyniki blisko etapu nr {3}. Do PB ({4}) {5} jeszcze {6}.",
        'draft_analysis_eliminated': "{0} {1}. Ostatnio wyniki blisko etapu nr {3}. {4}",
        'draft_pb_congrats': "Uwaga! {0} {1} rekord Å¼yciowy ({2})! Gratulacje ðŸ†",
        'draft_footer': "WiÄ™cej na app. Wasza pomoc: {0}%.",
        
        # --- HISTORIA (TABELE I WYKRESY) ---
        'title': "Statystyki rywalizacji od 2021 roku",
        'sidebar_header': "Filtry",
        'select_period': "Okres",
        'manual_select': "RÄ™cznie",
        'last_n_editions': "Ost. {0}",
        'all_editions': "Wszystkie",
        'select_users': "Uczestnicy",
        'select_all_users': "Wszyscy",
        'min_editions': "Min. edycji",
        'chart_type': "Wykres",
        'results': "Wyniki",
        'positions': "Miejsca",
        'comparison_chart_title_results': "PorÃ³wnanie wynikÃ³w graczy",
        'comparison_chart_title_positions': "PorÃ³wnanie pozycji graczy",
        'comparison_chart_note': "W menu po lewej stronie moÅ¼esz wybraÄ‡ dowolnego lub dowolnych uczestnikÃ³w do porÃ³wnania.",
        'y_axis_results': "Wynik",
        'y_axis_positions': "Miejsce",
        'x_axis_month': "MiesiÄ…c",
        'x_axis_edition': "Numer edycji",
        'personal_records': "ðŸ† Rekordy osobiste",
        'best_result': "Najlepszy wynik",
        'worst_result': "Najgorszy wynik",
        'best_position': "Najlepsze miejsce",
        'worst_position': "Najgorsze miejsce",
        'avg_result': "Åšredni wynik",
        'avg_position': "Åšrednie miejsce",
        'edition': "Edycja",
        'participant': "Uczestnik",
        'result': "Wynik",
        'position': "Miejsce",
        'no_data_selected': "Brak danych dla wybranych filtrÃ³w.",
        'monthly_summary': "Zestawienie miesiÄ™czne",
        'monthly_summary_results': "Wyniki miesiÄ™czne",
        'monthly_summary_positions': "Miejsca miesiÄ™czne",
        'monthly_summary_desc': "Zestawienie miesiÄ™czne. Tabela przedstawia wyniki i niÅ¼ej zajÄ™te miejsca w poszczegÃ³lnych edycjach",
        'distribution_of_results': "RozkÅ‚ad wynikÃ³w",
        'histogram_title_results': "Histogram wynikÃ³w",
        'histogram_title_positions': "Histogram miejsc",
        'player_stats': "Statystyki graczy",
        'count_col': "Liczba",
        'mean_col': "Åšrednia",
        'min_col': "Min",
        'max_col': "Max",
        'median_col': "Mediana",
        'std_col': "Odch.",
        'correlation_analysis': "Analiza korelacji (Wynik vs Miejsce)",
        'correlation_r': "WspÃ³Å‚czynnik korelacji (r):",
        'correlation_p': "WartoÅ›Ä‡ p:",
        'correlation_desc_strong_neg': "Silna ujemna korelacja: Wzrost wyniku wiÄ…Å¼e siÄ™ z lepszÄ… pozycjÄ… (niÅ¼szy numer miejsca).",
        'correlation_desc_weak_neg': "SÅ‚aba ujemna korelacja: Wzrost wyniku moÅ¼e wiÄ…zaÄ‡ siÄ™ z lepszÄ… pozycjÄ… (niÅ¼szy numer miejsca).",
        'correlation_desc_no': "Brak korelacji: Wynik nie ma zwiÄ…zku z miejscem.",
        'correlation_desc_not_significant': "Korelacja nie jest statystycznie istotna (p > 0.05).",
        'medal_classification_title': "Klasyfikacja miejsc",
        'position_col': "Pozycja",
        'medals_col': "Medale",
        'total_medals_col': "Suma medali",
        'total_participations': "Liczba startÃ³w",
        'user_details_header': "SzczegÃ³Å‚owe statystyki uczestnika",
        'select_single_user': "W menu po lewej stronie strony moÅ¼esz zawÄ™ziÄ‡ historiÄ™ do wybranych uczestnikÃ³w lub edycji.",
        'heatmap_title': "Mapa cieplna zajmowanych miejsc",
        'heatmap_desc': "Wizualizacja miejsc zajmowanych przez uczestnikÃ³w. JaÅ›niejszy kolor oznacza lepsze (niÅ¼sze) miejsce.",
        'medal_race_title': "Historyczny wyÅ›cig medalowy",
        'medal_race_desc': "Wykres pokazuje skumulowanÄ… liczbÄ™ medali (miejsca 1-3) dla uczestnikÃ³w po kaÅ¼dej edycji.",
        'cumulative_medals': "ÅÄ…czna liczba medali (Top {0})",
        'participants_per_edition': "Liczba uczestnikÃ³w w poszczegÃ³lnych edycjach",
        'participants_chart_title': "Liczba uczestnikÃ³w",
        'participants_chart_ylabel': "Liczba uczestnikÃ³w",
        'avg_result_pos_per_edition': "Åšrednie edycji",
        'avg_result_edition': "Åšr. Wynik",
        'avg_position_edition': "Åšr. Miejsce",
        'select_medal_range': "Zakres medali",
        'top_1': "Tylko 1. miejsce",
        'top_3': "Top 3 (1-3)",
        'top_5': "Top 5 (1-5)",
        'top_10': "Top 10 (1-10)",
        'custom_range': "Zakres niestandardowy",
        'min_medal_position': "Minimalna pozycja medalowa",
        'max_medal_position': "Maksymalna pozycja medalowa",
        'edition_ranking_title': "Ranking edycji rozgrywki",
        'edition_ranking_desc': "Tabela przedstawia ranking edycji od najlepszej do najgorszej, na podstawie Å›redniego wyniku i Å›redniej pozycji.",
        'overall_records_title': "Chronologiczna tablica rekordÃ³w caÅ‚ej rozgrywki",
        'overall_records_desc': "Tabela przedstawia najwyÅ¼sze wyniki osiÄ…gniÄ™te w caÅ‚ej rozgrywce po kaÅ¼dej edycji.",
        'personal_records_timeline_title': "Chronologiczna tablica rekordÃ³w osobistych uczestnikÃ³w",
        'personal_records_timeline_desc': "Tabela przedstawia, kiedy poszczegÃ³lni uczestnicy pobijali swoje rekordy osobiste.",
        'record_holder': "Rekordzista",
        'record_value': "WartoÅ›Ä‡ rekordu",
        'previous_record': "Poprzedni rekord",
        'record_broken_by': "Rekord pobity przez",
        'new_record': "Nowy rekord",
        'old_record': "Stary rekord",
        'edition_winner': "ZwyciÄ™zca edycji",
        'medal_classification_classic_title': "Klasyfikacja medalowa (Top 3)",
        'survival_analysis_title': "Analiza przetrwania uczestnikÃ³w",
        'survival_analysis_desc': "Wykres pokazuje, ilu uczestnikÃ³w pozostaÅ‚o w grze kaÅ¼dego dnia. Uczestnik odpada 3 dni po ostatnim zaliczonym etapie (np. wynik 10 oznacza odpÃ¤dniÄ™cie 13. dnia).",
        'survival_analysis_select_editions': "Wybierz edycje do porÃ³wnania",
        'survival_analysis_x_axis': "DzieÅ„ rozgrywki",
        'survival_analysis_y_axis': "Liczba aktywnych uczestnikÃ³w",
        'survival_analysis_legend': "Edycja",
        'survival_analysis_no_selection': "Wybierz co najmniej jednÄ… edycjÄ™, aby zobaczyÄ‡ analizÄ™ przetrwania.",
        'scatter_plot_title': "Wyniki uczestnikÃ³w w poszczegÃ³lnych edycjach (z miejscami)",
        'scatter_plot_desc': "Wykres punktowy przedstawiajÄ…cy wyniki kaÅ¼dego uczestnika w kolejnych edycjach. Kolor punktu oznacza zajÄ™te miejsce.",
        'position_legend': "Miejsce",
    },
    'en': {
        'app_title': "Crossbar Challenge Analysis",
        
        # --- MENU HEADER ---
        'nav_header': "ðŸ“‹ Menu",
        'nav_editions_expander': "ðŸ“‹ Editions & Rankings",
        'nav_static_header': "ðŸ“š Information",
        
        # --- MENU EDITIONS (Dynamic) ---
        'nav_edition_upcoming': "â³ {0}",
        'nav_edition_active': "ðŸŸ¢ {0}",
        'nav_edition_finalization': "ðŸš© {0}",
        'nav_edition_finished': "ðŸ {0}",
        
        'nav_edition_ranking_active': "ðŸ“Š Ranking {0}",
        'nav_edition_form_active': "ðŸ“ Form {0}",
        'nav_edition_ranking_finished': "ðŸ Ranking {0}",
        'nav_edition_form_finished': "ðŸ”’ Form {0}",
        'nav_edition_ranking_upcoming': "â³ {0}",
        
        # --- STATIC MENU ---
        'nav_historical_stats': "ðŸ“ˆ Historical Stats",
        'nav_rules': "ðŸ“œ Rules",
        'nav_join': "â„¹ï¸ How to join",
        'about_app': "ðŸ¤– About",
        
        # --- CTA (Help with data) ---
        'cta_header': "ðŸ¤ Help us with data!",
        'cta_description': "See missing data? You can add results for yourself or others. It's easy!",
        'cta_button_pl': "ðŸ“ Fill Form (PL)",
        'cta_button_en': "ðŸ“ Fill Form (EN)",

        # --- QUICK LINKS ---
        'quick_links_header': "Quick Start Links",
        'quick_links_ranking': "Ranking",
        'quick_links_form': "Form",
        'quick_links_language_pl': "(PL)",
        'quick_links_language_en': "(EN)",
        
        # --- REST OF TRANSLATIONS ---
        'edition_starts_soon': "This edition ({0}) hasn't started yet. Check back soon!",
        'form_error_edition_closed': "This edition ({0}) is finished. Form is closed.",
        
        'about_app_text': "App supporting the 'Crossbar' challenge on Hive Blog.",
        
        'sidebar_rules_header': "Classification Rules",
        'sidebar_rules_text': """
        **Classification Rules:**
        1. **Goal:** Survive as long as possible.
        2. **Pass:** Report required with proof (photo/link).
        3. **Elimination:** 3 consecutive failures = game over.
        4. **Ranking:** Highest passed stage decides.

        ---
        **ðŸ’° Reward Rules (Beneficiaries):**
        1. **Pool:** The reward pool equals the **percentage of community contribution** to data entry (e.g., 40% entries = 40% reward).
        2. **Split:**
            * **80%** goes to **Helpers** (proportional to entries).
            * **20%** goes to **Leaders** (equally for Top 5).
        3. **Sum:** Rewards stack if you are both a Helper and a Leader.
        4. **Limits:** Max **7 beneficiaries** (min 1%).
        """,
        
        'join_intro': "To join, start publishing Actifit reports on Hive.blog and declare your participation in a comment under the organizational post by @poprzeczka.",
        'join_step_1': "Create an account on Hive.blog.",
        'join_step_2': "Download the Actifit app.",
        'join_step_3': "Publish your results daily.",
        'join_step_4': "Use the tag #poprzeczka.",
        
        # --- RANKING ---
        'current_header': "ðŸ“Š Ranking",
        'current_no_data': "No data.",
        'current_ranking_header': "Live Ranking",
        'current_official_ranking_header': "Official Ranking",
        'current_official_stage_selector': "Select Stage:",
        'current_official_ranking_desc': "The following standings are based on **Stage {0}**. This is the last (or selected) day for which all active participants have complete data (explicit or inferred).",
        'current_official_ranking_none': "No complete stages yet.",
        'current_ranking_error': "Error: {0}",
        'ranking_col_rank': "Rank",
        'ranking_col_participant': "User",
        'ranking_col_highest_pass': "Highest Pass",
        'ranking_col_status': "Status",
        'ranking_col_failed_list_live': "Failed (live)",
        'ranking_col_failed_list_official': "Failed",
        'ranking_status_active': "Active",
        'ranking_status_eliminated': "Out (Day {0})",
        'ranking_selection_instruction': "â„¹ï¸ **About this ranking:** It takes into account all available data (mixed timeframes). Some participants may have gaps, while others are up to date. This allows the ranking to update immediately after new entries.",
        'current_ranking_rules_expander_label': "Show Rules (Live)",
        'current_ranking_rules': "Up to stage {0}.",
        
        # --- COMPLETENESS ---
        'current_completeness_header': "Completeness",
        'current_completeness_no_data': "No data.",
        'completeness_col_day': "Day",
        'completeness_col_participant': "User",
        
        # --- STATS ---
        'current_stats_header': "ðŸ† Stats",
        'current_stats_streaks': "Streaks",
        'current_stats_streaks_desc': "Longest streaks.",
        'current_stats_streaks_days': "days",
        'stats_rabbits_title': "ðŸ° Rabbits",
        'stats_rabbits_desc': "Most failures in this edition.",
        
        # --- RACE CHART ---
        'current_stats_race_header': "ðŸƒ Highest Stage Race",
        'current_stats_race_desc': """
        Dynamic Race Chart shows **who was leading at any given moment**.
        Bar length indicates the highest stage completed by the participant by the end of the selected day.
        You can play an animation or manually browse stages to see leader changes.
        """,
        'current_stats_race_mode': "Mode",
        'current_stats_race_mode_anim': "Animation",
        'current_stats_race_mode_manual': "Manual",
        'current_stats_race_button': "â–¶ï¸ Play Animation",
        'current_stats_race_day': "Stage",
        'current_stats_race_total': "Highest Stage",
        'race_btn_prev': "â—€ Previous",
        'race_btn_next': "â–¶ Next",
        'race_input_label': "Select Stage",
        
        # --- HISTORY ---
        'current_ranking_historical_expander': "History Context",
        'current_ranking_historical_no_data': "None.",
        'hist_context_pb': "PB",
        'hist_context_avg': "Avg Total",
        'hist_context_avg_last_3': "Avg Last 3",
        'hist_context_best_pos': "Best Pos",
        'hist_context_medals': "Medals",
        'hist_context_editions': "Editions",
        'summary_current_rank': "Now",
        'summary_previous_rank': "Prev",
        'summary_medals': "Medals",
        'summary_wins': "Wins",
        'summary_last_5_days': "Last 5",
        'summary_no_hist_data': "-",
        'card_hist_stats_header': "Stats:",
        'card_avg_total': "Avg Result",
        'card_avg_l3': "Avg 3",
        'card_avg_pos': "Avg Pos",
        
        # --- STAGE ANALYSIS ---
        'stage_analysis_title': "ðŸ“Š Difficulty",
        'stage_analysis_y_axis': "% Failed",
        'stage_analysis_hardest': "ðŸ“¥ Hardest: **Day {0}** (Failed {1:.1f}%)",
        
        # --- SURVIVAL ---
        'survival_chart_header': "ðŸ“‰ Survival",
        'survival_chart_title': "% Active",
        'survival_y_axis': "%",
        'survival_current_legend': "Current",
        
        # --- WEEKLY SUMMARIES ---
        'weekly_summary_title': "ðŸ“… Week {0} Summary (Stage {1})",
        'weekly_intro': "Summary week #{0}.",
        'weekly_leader_sg': "Leading: {0}",
        'weekly_leader_pl': "Leading: {0}",
        'weekly_chasers': "followed by {0}.",
        'weekly_winners': "Past winners: {0}.",
        'weekly_participants': "Started {0} - after {1} days we have only {2}.",
        'weekly_comparison': "Vs history {0}.",
        'weekly_footer_new': "More at app. Help: {0}%. Beneficiaries:",
        
        # --- FORM ---
        'form_header': "Data Entry: {0}",
        'form_info': "Edition: **{0}**.",
        'form_submitter_label': "Submitter",
        'form_submitter_placeholder': "Select...",
        'form_participant_label': "Participant",
        'form_participant_placeholder': "Select...",
        'form_day_label': "Stage",
        'form_status_label': "Status",
        'form_status_pass': "Passed",
        'form_status_fail': "Failed",
        'form_status_no_report': "No Report",
        'form_submit_button': "Save",
        'form_success_message': "Saved: **{0}** - Day {1} - {2}",
        'form_error_no_participant': "Select submitter/participant.",
        'form_confirmation_header': "Confirm",
        'form_confirmation_participant': "User",
        'form_confirmation_day': "Day",
        'form_confirmation_status': "Status",
        'form_confirmation_notes': "Notes",
        'form_confirmation_notes_empty': "None",
        'form_overwrite_info': "New overwrites old.",
        'form_data_exists': "Exists.",
        'form_error_edition_upcoming': "Form for this edition is not active yet.",
        
        # --- FORM (ADDITIONAL) ---
        'form_converters_expander': "â„¹ï¸ Converters (Strava/Bike/Other)",
        'form_converters_warning': "If reporting steps from activities (Strava, Garmin), use converters below. Instead of Actifit report, you can upload a screenshot.",
        'form_notes_label': "Notes (optional)",
        'form_notes_placeholder': "E.g. 'Data from Strava', 'Screenshot link'...",
        'form_upload_link_text': "ðŸ“‚ Screenshots Folder",
        'form_thanks_note': "Thank you for helping!",
        'form_ranking_info': "Check rankings menu.",
        'form_error_message': "Save error: {0}",
        'form_converters_error': "Converter error",
        
        # --- STATS (HELPERS) ---
        'current_stats_top_submitters': "ðŸ… Top Helpers",
        'current_stats_top_submitters_desc': "Who helped with data entry.",
        'current_stats_top_submitters_none': "No entries.",
        'current_stats_top_submitters_percentage': "Help: **{0:.0f}%** ({1} entries). Admin: {2}.",
        
        # --- HELPERS TABLE (REWARDS) ---
        'helpers_info_text': "You can read about the reward calculation rules in the 'Rules' tab in the left menu. Updates occur weekly. The table below shows the current status:",
        'helpers_col_participant': "Participant",
        'helpers_col_reward': "Reward",
        'helpers_col_details': "Calculation Details",
        'helpers_details_format': "help {0:.1f}%, leader {1:.1f}%, total rounded {2}%",
        'helpers_footer_pool_full': "Current Community Pool: {0}% (Entries: {1} vs Admin: {2}) - calculated based on the last {3} entries.",
        'helpers_no_data': "No data to calculate rewards.",
        
        # --- DRAFT GENERATOR ---
        'draft_header': "ðŸ“ Post Draft Generator (For {0})",
        'draft_select_label': "Select user:",
        'draft_copy_label': "Copy text:",
        'draft_loading': "Generating...",
        'draft_no_data': "No ranking data.",
        'draft_error': "Error: {0}",
        'draft_intro': "1. Summary for {0}",
        'draft_main_text': "According to official ranking after stage {0}, {1} is in place {2}. Before: {3}, After: {4}. Last data (stage {6}): {7}",
        'draft_status_pass': "Passed.",
        'draft_status_fail': "Failed.",
        'draft_analysis_active': "{0} {1}. Scores near stage {3}. Needs {6} more for PB ({4}).",
        'draft_analysis_eliminated': "{0} {1}. Scores near stage {3}. {4}",
        'draft_pb_congrats': "Attention! {0} {1} personal record ({2})! Congratulations ðŸ†",
        'draft_footer': "More at app. Your help: {0}%.",
        
        # --- HISTORY (TABLES AND CHARTS) ---
        'title': "Competition stats since 2021",
        'sidebar_header': "Filters",
        'select_period': "Period",
        'manual_select': "Manual",
        'last_n_editions': "Last {0}",
        'all_editions': "All",
        'select_users': "Users",
        'select_all_users': "All",
        'min_editions': "Min editions",
        'chart_type': "Chart",
        'results': "Results",
        'positions': "Positions",
        'comparison_chart_title_results': "Player Results Comparison",
        'comparison_chart_title_positions': "Player Positions Comparison",
        'comparison_chart_note': "In the left menu you can select any player(s) to compare.",
        'y_axis_results': "Result",
        'y_axis_positions': "Position",
        'x_axis_month': "Month",
        'x_axis_edition': "Edition",
        'personal_records': "ðŸ† Personal Records",
        'best_result': "Best result",
        'worst_result': "Worst result",
        'best_position': "Best position",
        'worst_position': "Worst position",
        'avg_result': "Average result",
        'avg_position': "Average position",
        'edition': "Edition",
        'participant': "Participant",
        'result': "Result",
        'position': "Position",
        'no_data_selected': "No data for selected filters.",
        'monthly_summary': "Monthly summary",
        'monthly_summary_results': "Monthly results",
        'monthly_summary_positions': "Monthly positions",
        'monthly_summary_desc': "Monthly summary. Table shows results and positions in each edition.",
        'distribution_of_results': "Distribution of results",
        'histogram_title_results': "Results histogram",
        'histogram_title_positions': "Positions histogram",
        'player_stats': "Player statistics",
        'count_col': "Count",
        'mean_col': "Mean",
        'min_col': "Min",
        'max_col': "Max",
        'median_col': "Median",
        'std_col': "Std Dev",
        'correlation_analysis': "Correlation Analysis (Result vs Position)",
        'correlation_r': "Correlation coefficient (r):",
        'correlation_p': "P-value:",
        'correlation_desc_strong_neg': "Strong negative correlation: Higher result means better position (lower rank number).",
        'correlation_desc_weak_neg': "Weak negative correlation: Higher result may mean better position (lower rank number).",
        'correlation_desc_no': "No correlation: Result has no relationship to position.",
        'correlation_desc_not_significant': "Correlation is not statistically significant (p > 0.05).",
        'medal_classification_title': "Position classification",
        'position_col': "Position",
        'medals_col': "Medals",
        'total_medals_col': "Total medals",
        'total_participations': "Number of starts",
        'user_details_header': "Detailed participant statistics",
        'select_single_user': "In the left menu you can narrow history to selected participants or editions.",
        'heatmap_title': "Position heatmap",
        'heatmap_desc': "Visualization of positions held by participants. Lighter color means better (lower) position.",
        'medal_race_title': "Historical medal race",
        'medal_race_desc': "Chart shows cumulative medals (positions 1-3) for participants after each edition.",
        'cumulative_medals': "Total medals (Top {0})",
        'participants_per_edition': "Number of participants per edition",
        'participants_chart_title': "Participant count",
        'participants_chart_ylabel': "Number of participants",
        'avg_result_pos_per_edition': "Edition averages",
        'avg_result_edition': "Avg Result",
        'avg_position_edition': "Avg Position",
        'select_medal_range': "Medal range",
        'top_1': "1st place only",
        'top_3': "Top 3 (1-3)",
        'top_5': "Top 5 (1-5)",
        'top_10': "Top 10 (1-10)",
        'custom_range': "Custom range",
        'min_medal_position': "Min medal position",
        'max_medal_position': "Max medal position",
        'edition_ranking_title': "Edition rankings",
        'edition_ranking_desc': "Table shows edition rankings from best to worst based on avg result and avg position.",
        'overall_records_title': "All-time records",
        'overall_records_desc': "Table shows highest scores achieved throughout competition after each edition.",
        'personal_records_timeline_title': "PB Timeline",
        'personal_records_timeline_desc': "Table shows when each participant set their personal records.",
        'record_holder': "Record holder",
        'record_value': "Record value",
        'previous_record': "Previous record",
        'record_broken_by': "Record broken by",
        'new_record': "New record",
        'old_record': "Old record",
        'edition_winner': "Edition winner",
        'medal_classification_classic_title': "Medal classification (Top 3)",
        'survival_analysis_title': "Participant survival analysis",
        'survival_analysis_desc': "Chart shows how many participants remained in the game each day. Participant drops out 3 days after last passed stage (e.g., result 10 means dropout on day 13).",
        'survival_analysis_select_editions': "Select editions to compare",
        'survival_analysis_x_axis': "Day of competition",
        'survival_analysis_y_axis': "Number of active participants",
        'survival_analysis_legend': "Edition",
        'survival_analysis_no_selection': "Select at least one edition to see survival analysis.",
        'scatter_plot_title': "Participant results in each edition (with positions)",
        'scatter_plot_desc': "Scatter plot showing each participant's results in subsequent editions. Point color indicates position held.",
        'position_legend': "Position",
    }
}

def _t(key, lang, *args):
    text = translations[lang].get(key, f"MISSING_KEY: {key}")
    return text.format(*args) if args else text
