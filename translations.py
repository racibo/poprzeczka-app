# === S≈Çownik T≈Çumacze≈Ñ (PL/EN) ===
translations = {
    'pl': {
        'app_title': "Analiza i ZarzƒÖdzanie PoprzeczkƒÖ",
        
        # MENU
        'nav_header': "Edycje i Menu",
        'nav_november_ranking': "üçÇ Ranking Listopad",
        'nav_november_form': "üìù Formularz Listopad",
        'nav_december_ranking': "‚ùÑÔ∏è Ranking Grudzie≈Ñ",
        'nav_december_form': "üìù Formularz Grudzie≈Ñ",
        'nav_historical_stats': "üìà Statystyki Historyczne",
        'nav_rules': "üìú Zasady",
        'nav_join': "‚ÑπÔ∏è Jak do≈ÇƒÖczyƒá",
        'about_app': "ü§î O projekcie",
# SZYBKIE LINKI (NOWE)
        'quick_links_header': "Szybkie Linki Startowe",
        'quick_links_ranking': "Ranking",
        'quick_links_form': "Formularz",
        'quick_links_edition_nov': "Listopad",
        'quick_links_edition_dec': "Grudzie≈Ñ",
        'quick_links_language_pl': "po polsku",
        'quick_links_language_en': "po angielsku",
        'nav_submission_form': "üìã Formularz", # Fallback
        'menu_section_nov': "--- üçÇ **LISTOPAD** ---",
        'menu_section_dec': "--- ‚ùÑÔ∏è **GRUDZIE≈É** ---",
        'menu_section_hist': "--- üìà **HISTORIA, ZASADY** ---",
        
        # TEKSTY STATYCZNE
        'about_app_text': "Nie by≈Ço by POPRZECZKI bez hive.blog. Tam wok√≥≈Ç ludzi publikujƒÖcych swoje raporty na actifit wykie≈Çkowa≈Çy nowe rywalizacje. POPRZECZKA powsta≈Ça dziƒôki lidze 'poliac' organizowanej przez @browery. POPRZECZKA to inne spojrzenie na liczbƒô krok√≥w i publikowane codziennie raporty. Mo≈ºna je u≈Ço≈ºyƒá w klasyfikacjƒô i tak siƒô w≈Ça≈õnie sta≈Ço. Kolejne miesiƒÖce mijajƒÖ a POPRZECZKA nadal trwa",
        'sidebar_hive_link': "üêù Przejd≈∫ do Hive.blog",
        'sidebar_rules_header': "Zasady Klasyfikacji",
        'sidebar_rules_text': """
        **Zasady og√≥lne:**
        1. **Cel:** Utrzymaƒá siƒô w grze jak najd≈Çu≈ºej, zaliczajƒÖc kolejne etapy (dni).
        2. **Wymagania:** Ka≈ºdy etap ma okre≈õlonƒÖ minimalnƒÖ liczbƒô krok√≥w (np. Dzie≈Ñ 1 = 1000, Dzie≈Ñ 30 = 30000).
        3. **Zaliczenie:** Wymagany raport Actifit lub dow√≥d ze Stravy/Garmina (zdjƒôcie/link).
        4. **Eliminacja:** 3 niezaliczone etapy z rzƒôdu oznaczajƒÖ koniec gry (tzw. "pa").
        5. **Ranking:** Decyduje najwy≈ºszy zaliczony etap. W przypadku remisu decyduje historia wpadek.

        ---
        **üí∞ Zasady Nagradzania (Beneficjenci):**
        
        1. **Tworzymy Pulƒô:** Pula nagr√≥d z posta jest r√≥wna **procentowi Waszego wk≈Çadu** w uzupe≈Çnianie danych (np. 40% wpis√≥w spo≈Çeczno≈õci = 40% nagrody dla Was).
        2. **Dzielimy Pulƒô:**
            * **80%** tej puli trafia do **Pomocnik√≥w** (proporcjonalnie do liczby dodanych wpis√≥w).
            * **20%** tej puli trafia do **Lider√≥w** (r√≥wno dla Top 5 obecnej klasyfikacji).
        3. **Sumujemy:** Je≈õli jeste≈õ Liderem i Pomocnikiem jednocze≈õnie ‚Äì Twoje nagrody siƒô sumujƒÖ!
        4. **Limity:** Nagrodƒô (beneficjum) otrzymuje **maksymalnie 7 os√≥b** z najwy≈ºszym ≈ÇƒÖcznym wynikiem (minimum 1%).
        
        *Uwaga: System nagradzania jest zmienny i zale≈ºy od mo≈ºliwo≈õci finansowych oraz czasu admina. Zasady te mogƒÖ ulegaƒá zmianom w trakcie trwania edycji.*
        """,
        'sidebar_admin_log': "üîí Log wpis√≥w (Admin)",
        'sidebar_log_empty': "Log jest pusty.",

        # FORMULARZ
        'form_header': "Formularz wprowadzania danych: {0}",
        'form_info': "Wprowadzasz dane dla edycji: **{0}**.",
        'form_submitter_label': "Kto wprowadza dane?",
        'form_submitter_placeholder': "Wybierz...",
        'form_participant_label': "Uczestnik",
        'form_participant_placeholder': "Wybierz...",
        'form_day_label': "Etap (numer dnia)",
        'form_status_label': "Status etapu",
        'form_status_pass': "Zaliczone",
        'form_status_fail': "Niezaliczone",
        'form_status_no_report': "Brak raportu",
        'form_status_info': "Uwaga: 'Niezaliczone' oraz 'Brak raportu' majƒÖ ten sam skutek.",
        'form_converters_expander': "‚ÑπÔ∏è Przeliczniki (Strava/Rower/Inne)",
        'form_converters_warning': "Je≈õli zg≈Çaszasz kroki z aktywno≈õci (np. Strava, Garmin), stosujemy poni≈ºsze przeliczniki. Zamiast raportu Actifit, mo≈ºesz wgraƒá zrzut ekranu.",
        'form_notes_label': "Inne (opcjonalnie)",
        'form_notes_placeholder': "Np. 'Dane ze Strava', 'Link do zrzutu ekranu'...",
        'form_upload_label': "Zrzut ekranu (opcjonalnie)",
        'form_upload_link_text': "üìÇ Folder ze zrzutami",
        'form_thanks_note': "Dziƒôki za pomoc!",
        'form_submit_button': "Zapisz dane",
        'form_ranking_info': "Sprawd≈∫ ranking w menu bocznym.",
        'form_success_message': "Zapisano: **{0}** - Dzie≈Ñ {1} - Status: **{2}**",
        'form_error_message': "B≈ÇƒÖd zapisu: {0}",
        'form_error_no_participant': "Wybierz uczestnika i wprowadzajƒÖcego.",
        'form_confirmation_header': "Potwierdzenie zapisu",
        'form_confirmation_participant': "Uczestnik",
        'form_confirmation_day': "Dzie≈Ñ",
        'form_confirmation_status': "Status",
        'form_confirmation_notes': "Notatki",
        'form_confirmation_notes_empty': "Brak",
        'form_overwrite_info': "Nowy wpis nadpisuje stary.",
        'form_data_exists': "‚ÑπÔ∏è Dane ju≈º istniejƒÖ (autor: {0}).",
        
        # TABELA POMOCNIK√ìW (Nagrody) - NOWE
        'helpers_info_text': "O zasadach wylicze≈Ñ na podstawie kt√≥rych wynagradzamy za aktywno≈õƒá przeczytasz w zak≈Çadce 'Zasady' w menu po lewej stronie. Co tydzie≈Ñ nastƒôpuje zmiana. Poni≈ºsza tabela pokazuje stan obecny:",
        'helpers_col_participant': "Uczestnik",
        'helpers_col_reward': "Nagroda",
        'helpers_col_details': "Szczeg√≥≈Çy wyliczenia",
        'helpers_details_format': "pomoc {0:.1f}%, lider {1:.1f}%, razem zaokrƒÖglone {2}%",
        'helpers_footer_pool_full': "Aktualna Pula Spo≈Çeczno≈õci: {0}% (Wpisy: {1} vs Admin: {2}) - liczone na podstawie ostatnich {3} wpis√≥w.",        
        'helpers_no_data': "Brak danych do wyliczenia nagr√≥d.",
        'helpers_details_template': "pomoc {0}%, lider {1}%, razem zaokrƒÖglone {2}%",
        
        # GENERATOR
        'draft_header': "üìù Generator Wpisu (Dla {0})",
        'draft_select_label': "Wybierz uczestnika:",
        'draft_copy_label': "Skopiuj tekst:",
        'draft_loading': "Generowanie...",
        'draft_no_data': "Brak danych rankingowych.",
        'draft_error': "B≈ÇƒÖd: {0}",
        'draft_intro': "1. Podsumowanie dla {0}",
        'draft_main_text': "Wg oficjalnej klasyfikacji po etapie {0}, {1} zajmuje {2} miejsce. Przed: {3}, za: {4}. Ostatnie dane (etap {6}): {7}",
        'draft_status_pass': "Zaliczony.",
        'draft_status_fail': "Niezaliczony.",
        'draft_analysis_active': "{0} {1}. Ostatnio wyniki blisko etapu nr {3}. Do PB ({4}) {5} jeszcze {6}.",
        'draft_analysis_eliminated': "{0} {1}. Ostatnio wyniki blisko etapu nr {3}. {4}",
        'draft_pb_congrats': "Uwaga! {0} {1} rekord ≈ºyciowy ({2})! Gratulacje üëè",
        'draft_footer': "Wiƒôcej na app. Wasza pomoc: {0}%.",
        'word_participant_m': "uczestnika", 'word_participant_f': "uczestniczki",
        'word_chance_m': "ma szansƒô", 'word_chance_f': "ma szansƒô",
        'word_eliminated_m': "odpad≈Ç w dniu {0}", 'word_eliminated_f': "odpad≈Ça w dniu {0}",
        'word_achieved_m': "osiƒÖga≈Ç", 'word_achieved_f': "osiƒÖga≈Ça",
        'word_missing_m': "brakuje mu", 'word_missing_f': "brakuje jej",
        'word_broke_m': "Uczestnik pobi≈Ç", 'word_broke_f': "Uczestniczka pobi≈Ça",

        # RANKING
        'current_header': "üìä Ranking Edycji",
        'current_no_data': "Brak danych.",
        'current_ranking_header': "Aktualna Klasyfikacja (Na ≈ªywo / Nieoficjalna)",
        'current_ranking_rules_expander_label': "Zasady klasyfikacji (Na ≈ªywo)",
        'current_ranking_rules': "Ranking do etapu {0}. Sortowanie po najwy≈ºszym zaliczonym etapie.",
        'current_official_ranking_header': "Oficjalna Klasyfikacja (wg kompletnych etap√≥w)",
        'current_official_stage_selector': "Wybierz etap:",
        'current_official_ranking_desc': "Poni≈ºsza klasyfikacja jest oparta o **Etap {0}**. Jest to ostatni (lub wybrany) dzie≈Ñ, dla kt√≥rego wszyscy aktywni uczestnicy posiadajƒÖ kompletne dane (jawne lub wywnioskowane).",
        'current_official_ranking_none': "Brak kompletnych etap√≥w.",
        'current_ranking_error': "B≈ÇƒÖd: {0}",
        'ranking_col_rank': "Miejsce", 
        'ranking_col_participant': "Uczestnik",
        'ranking_col_highest_pass': "Najw. Zaliczone",
        'ranking_col_status': "Status",
        'ranking_col_failed_list_live': "Niezaliczone (nieoficjalnie)", 
        'ranking_col_failed_list_official': "Niezaliczone", 
        'ranking_status_active': "W grze",
        'ranking_status_eliminated': "Odpad≈Ç (Dzie≈Ñ {0})",
        'current_completeness_header': "Kompletno≈õƒá Danych",
        'current_completeness_no_data': "Brak danych.",
        'completeness_col_day': "Dzie≈Ñ",
        'completeness_col_participant': "Uczestnik",
        'ranking_selection_instruction': "‚ÑπÔ∏è **O tej klasyfikacji:** Bierze ona pod uwagƒô wszystkie dostƒôpne dane (z r√≥≈ºnych okres√≥w). U jednych uczestnik√≥w mogƒÖ byƒá braki, u innych dane sƒÖ bie≈ºƒÖce. Dziƒôki temu ranking reaguje natychmiast po wprowadzeniu nowych danych do formularza.",
        
        'current_stats_header': "üèÜ Statystyki",
        'current_stats_top_submitters': "Najwiƒôksi Pomocnicy",
        'current_stats_top_submitters_desc': "Kto pomaga≈Ç.",
        'current_stats_top_submitters_none': "Brak wpis√≥w.",
        'current_stats_top_submitters_percentage': "Pomoc: **{0:.0f}%** ({1} wpis√≥w). Admin: {2}.",
        'current_stats_streaks': "Serie Zalicze≈Ñ",
        'current_stats_streaks_desc': "Najd≈Çu≈ºsze serie.",
        'current_stats_streaks_days': "dni",
        
        # --- WYKRES WY≈öCIGU ---
        'current_stats_race_header': "üèÅ Wy≈õcig o Najwy≈ºszy Etap",
        'current_stats_race_desc': """
        Wykres dynamiczny (Race Chart) pokazuje, **kto prowadzi≈Ç w danym momencie rywalizacji**.
        D≈Çugo≈õƒá s≈Çupka oznacza numer najwy≈ºszego zaliczonego etapu przez uczestnika na koniec wybranego dnia.
        Mo≈ºesz odtworzyƒá przebieg rywalizacji jako animacjƒô lub przewijaƒá etapy rƒôcznie przyciskami, aby zobaczyƒá zmiany lidera.
        """,
        'current_stats_race_mode': "Tryb",
        'current_stats_race_mode_anim': "Animacja",
        'current_stats_race_mode_manual': "Rƒôczny",
        'current_stats_race_button': "‚ñ∂Ô∏è Odtw√≥rz Animacjƒô",
        'current_stats_race_day': "Etap",
        'current_stats_race_total': "Najw. Etap",
        'race_btn_prev': "‚ûñ Poprzedni",
        'race_btn_next': "‚ûï Nastƒôpny",
        'race_input_label': "Wybierz Etap",
        
        'current_ranking_historical_expander': "Kontekst Historyczny",
        'current_ranking_historical_no_data': "Brak historii.",
        'hist_context_pb': "R. ≈ªyciowy",
        'hist_context_avg': "≈ör. Og√≥≈Ç",
        'hist_context_avg_last_3': "≈ör. Ost.3",
        'hist_context_best_pos': "Najl. Poz.",
        'hist_context_medals': "Medale",
        'hist_context_editions': "Edycje",
        
        'participant_summary_expander': "Szczeg√≥≈Çy",
        'summary_current_rank': "Teraz",
        'summary_previous_rank': "Poprz.",
        'summary_medals': "Medale",
        'summary_wins': "Wygrane",
        'summary_last_5_days': "Ost. 5 dni",
        'summary_no_hist_data': "-",
        'summary_profile_link': "Profil",
        'stats_rabbits_title': "üê∞ Najwiƒôksi spryciarze",
        'stats_rabbits_desc': "SƒÖ to uczestnicy, kt√≥rzy mieli lub majƒÖ w tej edycji najwiƒôcej niezaliczonych etap√≥w.",
        
        'card_hist_stats_header': "Statystyki:",
        'card_avg_total': "≈ör. wynik",
        'card_avg_l3': "≈ör. ost. 3",
        'card_avg_pos': "≈ör. miejsce",
        'stage_analysis_title': "üìâ Trudno≈õƒá Etap√≥w",
        'stage_analysis_y_axis': "% Niezaliczonych",
        'stage_analysis_hardest': "üî• Najtrudniejszy: **Dzie≈Ñ {0}** (Nie zaliczy≈Ço {1:.1f}%)",
        'survival_chart_header': "üìâ Analiza Przetrwania",
        'survival_chart_title': "% w grze",
        'survival_y_axis': "%",
        'survival_current_legend': "Obecna",
        
        # TYGODNIOWE
        'weekly_summary_title': "üìÖ Podsumowanie Tygodnia nr {0} (Etap {1})",
        'weekly_intro': "Podsumowanie po tygodniu nr {0}.",
        'weekly_leader_sg': "Prowadzi: {0}",
        'weekly_leader_pl': "ProwadzƒÖ: {0}",
        'weekly_chasers': "za nimi sƒÖ {0}.",
        'weekly_winners': "Zwyciƒôzcy poprzednich edycji na miejscach: {0}.",
        'weekly_participants': "Startowa≈Ço {0} - po {1} dniach mamy ich ju≈º tylko {2}.",
        'weekly_comparison': "W por√≥wnaniu do historii {0}.",
        'weekly_footer_new': "Wiƒôcej na [poprzeczka.streamlit.app](https://poprzeczka.streamlit.app). Wasza pomoc: {0}%. Beneficjenci:",
        'weekly_rewards_list': "{0}% - {1}",

         # JAK DO≈ÅƒÑCZYƒÜ
        'join_intro': "Aby do≈ÇƒÖczyƒá, zacznij publikowaƒá raporty Actifit na Hive.blog i zg≈Ço≈õ sw√≥j udzia≈Ç w komentarzu pod kt√≥rym≈õ z post√≥w @poprzeczka.",
        'join_step_1': "Za≈Ç√≥≈º konto na Hive.blog.",
        'join_step_2': "Pobierz aplikacjƒô Actifit.",
        'join_step_3': "Publikuj codziennie swoje wyniki.",
        'join_step_4': "U≈ºywaj tagu #poprzeczka.",

        # HISTORIA
        'title': "Statystyki rywalizacji od 2021 roku",
        'sidebar_header': "Filtry",
        'select_period': "Okres",
        'manual_select': "Rƒôcznie",
        'last_n_editions': "Ost. {0}",
        'all_editions': "Wszystkie",
        'select_users': "Uczestnicy",
        'select_all_users': "Wszyscy",
        'min_editions': "Min. edycji",
        'chart_type': "Wykres",
        'results': "Wyniki",
        'positions': "Miejsca",
        'comparison_chart_title_results': "Por√≥wnanie wynik√≥w graczy",
        'comparison_chart_title_positions': "Por√≥wnanie pozycji graczy",
        'comparison_chart_note': "W menu po lewej stronie mo≈ºesz wybraƒá dowolnego lub dowolnych uczestnik√≥w do por√≥wnania.",
        'y_axis_results': "Wynik",
        'y_axis_positions': "Miejsce",
        'x_axis_month': "MiesiƒÖc",
        'x_axis_edition': "Numer edycji",
        'personal_records': "üèÖ Rekordy osobiste",
        'best_result': "Najlepszy wynik",
        'worst_result': "Najgorszy wynik",
        'best_position': "Najlepsze miejsce",
        'worst_position': "Najgorsze miejsce",
        'avg_result': "≈öredni wynik",
        'avg_position': "≈örednie miejsce",
        'edition': "Edycja",
        'participant': "Uczestnik",
        'result': "Wynik",
        'position': "Miejsce",
        'no_data_selected': "Brak danych dla wybranych filtr√≥w.",
        'monthly_summary': "Zestawienie miesiƒôczne",
        'monthly_summary_results': "Wyniki miesiƒôczne",
        'monthly_summary_positions': "Miejsca miesiƒôczne",
        'monthly_summary_desc': "Zestawienie miesiƒôczne. Tabela przedstawia wyniki i ni≈ºej zajƒôte miejsca w poszczeg√≥lnych edycjach",
        'distribution_of_results': "Rozk≈Çad wynik√≥w",
        'histogram_title_results': "Histogram wynik√≥w",
        'histogram_title_positions': "Histogram miejsc",
        'player_stats': "Statystyki graczy",
        'count_col': "Liczba",
        'mean_col': "≈örednia",
        'min_col': "Min",
        'max_col': "Max",
        'median_col': "Mediana",
        'std_col': "Odch.",
        'correlation_analysis': "Analiza korelacji (Wynik vs Miejsce)",
        'correlation_r': "Wsp√≥≈Çczynnik korelacji (r):",
        'correlation_p': "Warto≈õƒá p:",
        'correlation_desc_strong_neg': "Silna ujemna korelacja: Wzrost wyniku wiƒÖ≈ºe siƒô z lepszƒÖ pozycjƒÖ (ni≈ºszy numer miejsca).",
        'correlation_desc_weak_neg': "S≈Çaba ujemna korelacja: Wzrost wyniku mo≈ºe wiƒÖzaƒá siƒô z lepszƒÖ pozycjƒÖ (ni≈ºszy numer miejsca).",
        'correlation_desc_no': "Brak korelacji: Wynik nie ma zwiƒÖzku z miejscem.",
        'correlation_desc_not_significant': "Korelacja nie jest statystycznie istotna (p > 0.05).",
        'medal_classification_title': "Klasyfikacja miejsc",
        'position_col': "Pozycja",
        'medals_col': "Medale",
        'total_medals_col': "Suma medali",
        'total_participations': "Liczba start√≥w",
        'user_details_header': "Szczeg√≥≈Çowe statystyki uczestnika",
        'select_single_user': "W menu po lewej stronie strony mo≈ºesz zawƒôziƒá historiƒô do wybranych uczestnik√≥w lub edycji.",
        'heatmap_title': "Mapa cieplna zajmowanych miejsc",
        'heatmap_desc': "Wizualizacja miejsc zajmowanych przez uczestnik√≥w. Ja≈õniejszy kolor oznacza lepsze (ni≈ºsze) miejsce.",
        'medal_race_title': "Historyczny wy≈õcig medalowy",
        'medal_race_desc': "Wykres pokazuje skumulowanƒÖ liczbƒô medali (miejsca 1-3) dla uczestnik√≥w po ka≈ºdej edycji.",
        'cumulative_medals': "≈ÅƒÖczna liczba medali (Top {0})",
        'participants_per_edition': "Liczba uczestnik√≥w w poszczeg√≥lnych edycjach",
        'participants_chart_title': "Liczba uczestnik√≥w",
        'participants_chart_ylabel': "Liczba uczestnik√≥w",
        'avg_result_pos_per_edition': "≈örednie edycji",
        'avg_result_edition': "≈ör. Wynik",
        'avg_position_edition': "≈ör. Miejsce",
        'select_medal_range': "Zakres medali",
        'top_1': "Tylko 1. miejsce",
        'top_3': "Top 3 (1-3)",
        'top_5': "Top 5 (1-5)",
        'top_10': "Top 10 (1-10)",
        'custom_range': "Zakres niestandardowy",
        'min_medal_position': "Minimalna pozycja medalowa",
        'max_medal_position': "Maksymalna pozycja medalowa",
        'edition_ranking_title': "Ranking edycji rozgrywki",
        'edition_ranking_desc': "Tabela przedstawia ranking edycji od najlepszej do najgorszej, na podstawie ≈õredniego wyniku i ≈õredniej pozycji.",
        'overall_records_title': "Chronologiczna tablica rekord√≥w ca≈Çej rozgrywki",
        'overall_records_desc': "Tabela przedstawia najwy≈ºsze wyniki osiƒÖgniƒôte w ca≈Çej rozgrywce po ka≈ºdej edycji.",
        'personal_records_timeline_title': "Chronologiczna tablica rekord√≥w osobistych uczestnik√≥w",
        'personal_records_timeline_desc': "Tabela przedstawia, kiedy poszczeg√≥lni uczestnicy pobijali swoje rekordy osobiste.",
        'record_holder': "Rekordzista",
        'record_value': "Warto≈õƒá rekordu",
        'previous_record': "Poprzedni rekord",
        'record_broken_by': "Rekord pobity przez",
        'new_record': "Nowy rekord",
        'old_record': "Stary rekord",
        'edition_winner': "Zwyciƒôzca edycji",
        'medal_classification_classic_title': "Klasyfikacja medalowa (Top 3)",
        'survival_analysis_title': "Analiza przetrwania uczestnik√≥w",
        'survival_analysis_desc': "Wykres pokazuje, ilu uczestnik√≥w pozosta≈Ço w grze ka≈ºdego dnia. Uczestnik odpada 3 dni po ostatnim zaliczonym etapie (np. wynik 10 oznacza odpadniƒôcie 13. dnia).",
        'survival_analysis_select_editions': "Wybierz edycje do por√≥wnania",
        'survival_analysis_x_axis': "Dzie≈Ñ rozgrywki",
        'survival_analysis_y_axis': "Liczba aktywnych uczestnik√≥w",
        'survival_analysis_legend': "Edycja",
        'survival_analysis_no_selection': "Wybierz co najmniej jednƒÖ edycjƒô, aby zobaczyƒá analizƒô przetrwania.",
        'scatter_plot_title': "Wyniki uczestnik√≥w w poszczeg√≥lnych edycjach (z miejscami)",
        'scatter_plot_desc': "Wykres punktowy przedstawiajƒÖcy wyniki ka≈ºdego uczestnika w kolejnych edycjach. Kolor punktu oznacza zajƒôte miejsce.",
        'position_legend': "Miejsce",
    },
    'en': {
        'app_title': "Crossbar Challenge Analysis",
        'nav_header': "Menu",
        'nav_november_ranking': "üçÇ Ranking November",
        'nav_november_form': "üìù Form November",
        'nav_december_ranking': "‚ùÑÔ∏è Ranking December",
        'nav_december_form': "üìù Form December",
        'nav_historical_stats': "üìà Historical Stats",
        'nav_rules': "üìú Rules",
        'nav_join': "‚ÑπÔ∏è How to join",
        'about_app': "ü§î About",
# SZYBKIE LINKI (NOWE)
        'quick_links_header': "Quick Start Links",
        'quick_links_ranking': "Ranking",
        'quick_links_form': "Form",
        'quick_links_edition_nov': "November",
        'quick_links_edition_dec': "December",
        'quick_links_language_pl': "in Polish",
        'quick_links_language_en': "in English",
        'about_app_text': "App supporting the 'Crossbar' challenge on Hive Blog.",
        'sidebar_hive_link': "üêù Go to Hive.blog",
        'sidebar_rules_header': "Classification Rules",
        'menu_section_nov': "--- üçÇ **NOVEMBER** ---",
        'menu_section_dec': "--- ‚ùÑÔ∏è **DECEMBER** ---",
        'menu_section_hist': "--- üìà **HISTORY, RULES** ---",

        # TABELA POMOCNIK√ìW (Nagrody) - NEW (EN)
        'helpers_info_text': "You can read about the reward calculation rules in the 'Rules' tab in the left menu. Updates occur weekly. The table below shows the current status:",
        'helpers_col_participant': "Participant",
        'helpers_col_reward': "Reward",
        'helpers_col_details': "Calculation Details",
        'helpers_footer_pool': "Current Community Pool: {0}% (Entries: {1} vs Admin: {2})",
        'helpers_no_data': "No data to calculate rewards.",
        'helpers_details_template': "help {0}%, leader {1}%, total rounded {2}%",
        'helpers_footer_pool_full': "Current Community Pool: {0}% (Entries: {1} vs Admin: {2}) - calculated based on the last {3} entries.",
        # ZAKTUALIZOWANE ZASADY (EN)
        'sidebar_rules_text': """
        **Classification Rules:**
        1. **Goal:** Survive as long as possible.
        2. **Pass:** Report required with proof (photo/link).
        3. **Elimination:** 3 consecutive failures = game over.
        4. **Ranking:** Highest passed stage decides.

        ---
        **üí∞ Reward Rules (Beneficiaries):**
        1. **Pool:** The reward pool equals the **percentage of community contribution** to data entry (e.g., 40% entries = 40% reward).
        2. **Split:**
            * **80%** goes to **Helpers** (proportional to entries).
            * **20%** goes to **Leaders** (equally for Top 5).
        3. **Sum:** Rewards stack if you are both a Helper and a Leader.
        4. **Limits:** Max **7 beneficiaries** (min 1%).
        
        *Note: The reward system is variable and depends on the admin's time and resources. Rules may evolve during the edition.*
        """,
        
        'sidebar_admin_log': "üîí Log",
        'sidebar_log_empty': "Log empty.",
        
        'form_header': "Data Entry: {0}",
        'form_info': "Edition: **{0}**.",
        'form_submitter_label': "Submitter",
        'form_submitter_placeholder': "Select...",       # <--- DODANO
        'form_participant_label': "Participant",
        'form_participant_placeholder': "Select...",     # <--- DODANO
        'form_day_label': "Stage",
        'form_status_label': "Status",
        'form_status_pass': "Passed",
        'form_status_fail': "Failed",
        'form_status_no_report': "No Report",
        'form_status_info': "Failed = No Report.",
        'form_converters_expander': "‚ÑπÔ∏è Converters",
        'form_converters_warning': "If reporting steps from activities (Strava, Garmin), use converters below.",
        'form_notes_label': "Notes",
        'form_notes_placeholder': "E.g. 'Data from Strava', 'Screenshot link'...", # <--- DODANO
        'form_upload_label': "Screenshot",
        'form_submit_button': "Save",
        'form_ranking_info': "Check rankings menu.",
        'form_success_message': "Saved: **{0}** - Day {1} - {2}",
        'form_error_message': "Error: {0}",
        'form_error_no_participant': "Select submitter/participant.",
        'form_error_drive_not_configured': "Drive error.",
        'form_error_uploading_file': "Upload error: {1}",
        'form_confirmation_header': "Confirm",
        'form_confirmation_participant': "User",
        'form_confirmation_day': "Day",
        'form_confirmation_status': "Status",
        'form_confirmation_notes': "Notes",
        'form_confirmation_notes_empty': "None",
        'form_overwrite_info': "New overwrites old.",
        'form_data_exists': "Exists.",
        
        # TABELA POMOCNIK√ìW (Nagrody) - NEW (EN)
        'helpers_info_text': "You can read about the reward calculation rules in the 'Rules' tab in the left menu. Updates occur weekly. The table below shows the current status:",
        'helpers_col_participant': "Participant",
        'helpers_col_reward': "Reward",
        'helpers_col_details': "Calculation Details",
        'helpers_details_format': "help {0:.1f}%, leader {1:.1f}%, total rounded {2}%",
        'helpers_footer_pool': "Current Community Pool: {0}% (Entries: {1} vs Admin: {2})",
        'helpers_no_data': "No data to calculate rewards.",
        
        'draft_header': "üìù Post Draft",
        'draft_select_label': "User:",
        'draft_copy_label': "Copy:",
        'draft_loading': "Generating...",
        'draft_no_data': "No data.",
        'draft_error': "Error: {0}",
        'draft_intro': "1. Summary {0}",
        'draft_main_text': "Rank after stage {0}: {1} is {2}. Before: {3}, After: {4}. Last data (st {6}): {7}",
        'draft_status_pass': "Passed.",
        'draft_status_fail': "Failed.",
        'draft_analysis_active': "{0} {1}. Scores near stage {3}. Needs {6} for PB ({4}).",
        'draft_analysis_eliminated': "{0} {1}. Scores near stage {3}. {4}",
        'draft_pb_congrats': "PB Broken ({2})! Congrats {0}!",
        'draft_footer': "More at app.",
        'word_participant_m': "participant", 'word_participant_f': "participant",
        'word_chance_m': "has chance", 'word_chance_f': "has chance",
        'word_eliminated_m': "eliminated day {0}", 'word_eliminated_f': "eliminated day {0}",
        'word_achieved_m': "achieved", 'word_achieved_f': "achieved",
        'word_missing_m': "needs", 'word_missing_f': "needs",
        'word_broke_m': "Broke", 'word_broke_f': "Broke",
        
        'current_header': "üìä Ranking",
        'current_no_data': "No data.",
        'current_ranking_header': "Live Ranking",
        'current_ranking_rules_expander_label': "Show Rules (Live)",
        'current_ranking_rules': "Up to stage {0}.",
        'current_official_ranking_header': "Official Ranking",
        'current_official_stage_selector': "Select Stage:",
        'current_official_ranking_desc': "The following standings are based on **Stage {0}**. This is the last (or selected) day for which all active participants have complete data (explicit or inferred).",
        'current_official_ranking_none': "No complete stages yet.",
        'current_ranking_error': "Error: {0}",
        'current_header_check_error': "Header error.",
        'current_header_check_details': "Details: {0}",
        'current_header_check_expected': "Exp",
        'current_header_check_found': "Fnd",
        'ranking_col_rank': "Rank", 
        'ranking_col_participant': "User",
        'ranking_col_highest_pass': "High Pass",
        'ranking_col_status': "Status",
        'ranking_col_failed_list_live': "Fail (live)",
        'ranking_col_failed_list_official': "Fail",
        'ranking_status_active': "Active",
        'ranking_status_eliminated': "Out ({0})",
        'current_completeness_header': "Completeness",
        'current_completeness_no_data': "No data.",
        'completeness_col_day': "Day",
        'completeness_col_participant': "User",
        'current_log_expander': "Log",
        'current_log_empty': "Empty.",
        'current_stats_header': "Stats",
        'current_stats_top_submitters': "Helpers",
        'current_stats_top_submitters_desc': "Top contributors.",
        'current_stats_top_submitters_none': "None.",
        'current_stats_top_submitters_percentage': "Help: **{0:.0f}%**. Admin: {2}.",
        'current_stats_streaks': "Streaks",
        'current_stats_streaks_desc': "Longest streaks.",
        'current_stats_streaks_days': "days",

        # JAK DO≈ÅƒÑCZYƒÜ
        'join_intro': "To join, start publishing Actifit reports on Hive.blog and declare your participation in a comment under the organizational post by @poprzeczka.",
        'join_step_1': "Create an account on Hive.blog.",
        'join_step_2': "Download the Actifit app.",
        'join_step_3': "Publish your results daily.",
        'join_step_4': "Use the tag #poprzeczka.",

        # RACE CHART (EN)
        'current_stats_race_header': "üèÅ Highest Stage Race",
        'current_stats_race_desc': """
        Dynamic Race Chart shows **who was leading at any given moment**.
        Bar length indicates the highest stage completed by the participant by the end of the selected day.
        You can play an animation or manually browse stages to see leader changes.
        """,
        'current_stats_race_mode': "Mode",
        'current_stats_race_mode_anim': "Animation",
        'current_stats_race_mode_manual': "Manual",
        'current_stats_race_button': "‚ñ∂Ô∏è Play Animation",
        'current_stats_race_day': "Stage",
        'current_stats_race_total': "Highest Stage",
        'race_btn_prev': "‚ûñ Prev",
        'race_btn_next': "‚ûï Next",
        'race_input_label': "Select Stage",

        'current_ranking_historical_expander': "History Context",
        'current_ranking_historical_no_data': "None.",
        'ranking_selection_instruction': "‚ÑπÔ∏è **About this ranking:** It takes into account all available data (mixed timeframes). Some participants may have gaps, while others are up to date. This allows the ranking to update immediately after new entries in form.",
        'hist_context_pb': "PB",
        'hist_context_avg': "Avg Total",
        'hist_context_avg_last_3': "Avg Last 3",
        'hist_context_best_pos': "Best Pos",
        'hist_context_medals': "Medals",
        'hist_context_editions': "Editions",
        'select_single_user': "In the menu on the left, you can narrow down the history to selected participants or editions.",
        'summary_current_rank': "Now",
        'summary_previous_rank': "Prev",
        'summary_medals': "Medals",
        'summary_wins': "Wins",
        'summary_last_5_days': "Last 5",
        'summary_no_hist_data': "-",
        'summary_profile_link': "Profile",
        'stats_rabbits_title': "üê∞ Rabbits",
        'stats_rabbits_desc': "Most failures.",
        'card_hist_stats_header': "Stats:",
        'card_avg_total': "Avg Res",
        'card_avg_l3': "Avg 3",
        'card_avg_pos': "Avg Pos",
        'stage_analysis_title': "üìâ Difficulty",
        'stage_analysis_y_axis': "% Fail",
        'stage_analysis_hardest': "üî• Hardest: **Day {0}** (Fail {1:.1f}%)",
        'survival_chart_header': "üìâ Survival",
        'survival_chart_title': "% Active",
        'survival_y_axis': "%",
        'survival_current_legend': "Current",
        
        'weekly_summary_title': "üìÖ Week {0} Summary",
        'weekly_intro': "Summary week #{0}.",
        'weekly_leader_sg': "Leading: {0}",
        'weekly_leader_pl': "Leading: {0}",
        'weekly_chasers': "followed by {0}.",
        'weekly_winners': "Past winners: {0}.",
        'weekly_participants': "Started {0} - after {1} days we have only {2}.",
        'weekly_comparison': "Vs history {0}.",
        'weekly_footer_new': "More at app. Help: {0}%.",
        'weekly_rewards_list': "{0}% - {1}",
        
        'title': "Stats since 2021",
        'sidebar_header': "Filters",
        'select_period': "Period",
        'manual_select': "Manual",
        'last_n_editions': "Last {0}",
        'all_editions': "All",
        'select_users': "Users",
        'select_all_users': "All",
        'min_editions': "Min eds",
        'chart_type': "Chart",
        'results': "Results",
        'positions': "Positions",
        'y_axis_results': "Result",
        'y_axis_positions': "Position",
        'x_axis_month': "Mo",
        'x_axis_edition': "Ed",
        'user_details_header': "Details",
        'best_result': "PB",
        'worst_result': "Worst",
        'best_position': "Best Pos",
        'worst_position': "Worst Pos",
        'comparison_chart_title_results': "Results Comp.",
        'comparison_chart_title_positions': "Pos Comp.",
        'comparison_chart_note': "Select users.",
        'monthly_summary': "Monthly",
        'monthly_summary_desc': "Table.",
        'monthly_summary_results': "Res",
        'monthly_summary_positions': "Pos",
        'participant': "Participant",
        'medal_race_title': "Medal Race",
        'medal_race_desc': "Cumulative medals.",
        'select_medal_range': "Range",
        'top_1': "1", 'top_3': "3", 'top_5': "5", 'top_10': "10", 'custom_range': "Custom",
        'min_medal_position': "Min", 'max_medal_position': "Max",
        'cumulative_medals': "Medals (Top {0})",
        'heatmap_title': "Heatmap", 'heatmap_desc': "Positions.", 'position': "Pos", 'edition': "Ed",
        'scatter_plot_title': "Scatter", 'scatter_plot_desc': "Points.", 'position_legend': "Pos",
        'medal_classification_title': "Class.", 'total_participations': "Starts",
        'medal_classification_classic_title': "Medal Table", 'total_medals_col': "Total",
        'player_stats': "Stats", 'count_col': "Cnt", 'mean_col': "Avg", 'min_col': "Min", 'max_col': "Max", 'median_col': "Med",
        'participants_per_edition': "Participants", 'participants_chart_title': "Count", 'participants_chart_ylabel': "N",
        'avg_result_pos_per_edition': "Avg Ed", 'avg_result_edition': "Avg Res",
        'avg_position_edition': "Avg Pos",
        'edition_ranking_title': "Rank Ed", 'edition_ranking_desc': "Best to worst", 'edition_winner': "Winner",
        'overall_records_title': "Records", 'overall_records_desc': "High scores.", 'record_holder': "Holder", 'record_value': "Val", 'previous_record': "Prev",
        'personal_records_timeline_title': "PB Timeline", 'personal_records_timeline_desc': "Timeline.", 'new_record': "New", 'old_record': "Old",
        'survival_analysis_title': "Survival", 'survival_analysis_desc': "Dropout.", 'survival_analysis_select_editions': "Select", 'survival_analysis_no_selection': "Select one.",
        'survival_analysis_x_axis': "Day", 'survival_analysis_y_axis': "Active", 'survival_analysis_legend': "Ed",
    }
}

def _t(key, lang, *args):
    text = translations[lang].get(key, f"MISSING_KEY: {key}")
    return text.format(*args) if args else text
